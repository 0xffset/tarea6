import {IonButton, IonButtons, IonTitle, IonList, IonItem,
IonToolbar, IonInput, IonToast
} from '@ionic/react';
import {useState} from 'react';


const [nombre, setNombre] = useState("");
const [open, setOpen] = useState(false);
const [resultado, setResultado] = useState("");
const [edad, setEdad] = useState(0);
const Calcular =() => {
	if ( nombre == "") {
		setOpen(true);
		<IonToast
			isOpen={open}
			message="Debe ingresar una edad valida"
			duration={5000}
		>

		</IonToast>
	}
	else {
		// Se trata de determinar la edad del nombre ingresado
		fetch(`https://api.agify.io/?name=${nombre}`)
			.then(async res=> {
			if(res.ok) {
				const data = await res.json();
				var valorEdad = data.age;
				setEdad(valorEdad);
				if (valorEdad < 18) {
				setResultado("El nombre de la persona es muy joven");
				}

				
				}
			}
	}
}
const AgeContainer: React.FC =()=> {
	return (
		<>
		<IonList>
			<IonItem>
				<IonInput
				label="Inserte un nombre vÃ¡lido"
				type="text"
				value={nombre}
				onInput={(e:any) => setNombre(e.target.value)}
				>
			</IonInput>
		</IonItem>
		<IonInput>
		<IonToolbar>
		<IonButtons slot="start">
		<IonButton onClick={Calcular}> 
		Buscar
		</IonButton>
		</IonButtons>
		</IonToolbar>
		</IonInput>
		</IonList>
		</>
	) 
}

export default AgeContainer
